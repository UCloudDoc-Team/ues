# Security插件

关于安全插件的详细使用方法，请参考[UES安全插件使用说明](http://ues.cn-bj.ufileos.com/UES%E5%AE%89%E5%85%A8%E6%8F%92%E4%BB%B6%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.pdf)。

## 一、特别提示

**1）安装安全插件将会触发UES集群重启，对ES服务造成影响。请在安装之前做好必要的准备工作，选择合适的时间进行安装。**

**2）安全插件安装完成之后，访问ES服务的代码需要修改，加上账号密码信息方可正常使用。**

## 二、插件安装

1.支持的版本

当前支持安全插件的UES服务版本为6.5.4，其他版本的UES暂不支持安装安全插件。

2.安全插件安装方法

安全插件的安装方法与其他插件类似，具体方式可参见“插件管理”小节的内容。

## 三、注意事项

1）安全插件的安装采用逐个节点进行安装并重启的方式来进行，一个节点的安全插件安装完成后，由于安全机制发生变化，将无法加入原集群。需要等待所有节点的安全插件都安装完成之后，集群才能恢复提供服务，一般情况下，拥有3个节点的集群安装安全插件大约需要15分钟时间。

2）安全插件安装完成之后，访问ES服务的代码需要修改，加上账号密码信息方可正常使用（默认沿用创建集群时设置的Kibana的账号密码作为启用安全机制后的账号密码）。示例如下：

    curl -H "Content-Type: application/json" -u admin:admin -XGET http://localhost:9200/_cat/health?v

## 四、权限管理

在安全插件安装完成之后，使用创建集群时设置的Kibana账号密码（也是启用安全机制后的账号密码）登录Kibana，在Kibana的菜单栏中，选择“Security”菜单项进入权限管理界面。
![](/images/plugins/security.png)

角色是控制集群访问的核心方式。角色包含集群范围权限，特定于索引的权限，文档和字段级安全性以及租户的任意组合。通过将用户映射到这些角色，可以让用户获得这些权限。

Security插件附带了许多预定义的操作组，角色，映射和用户，可以根据需要从中选用。
![](/images/plugins/roles.png)